请求打到服务上的方式：
1、直接请求，域名或者ip+端口
2、注册中心请求， eureka、nacos
3、异步消费，mq
4、外部定时任务  xxl-job

服务对外请求触发点：
1、外部请求导致的链式调用
2、定时任务、守护线程等  xxl-job  deamon thread
3、

不平滑关闭的缺点：
1、执行到一半关闭，产生异常数据，得手动处理
2、中断执行，如果使用了状态机，中断了后得手动驱动
3、干扰报警，由于流量没有处理干净，导致出现504 目前报警是根据指定时间范围内出错次数，顾基本上线就会报警
4、影响用户体验，上线期间可能存在短暂的不可用
5、

服务平滑关闭考虑点：
1、现有流量正常处理，不再有新的流量进入   =>   nginx负载下线，docker下线
2、内部的异步线程池正确停止(死循环的线程得按实际逻辑看怎么处理)   =>
3、停止kafka消费，kafka中途停止可能会导致异常数据   =>
4、注册中心下线，不让新的请求打到机器上   =>
5、类注册中心下线  xxl-job   =>  https://www.jianshu.com/p/27e2105ed12e
6、应用关闭，摧毁application
7、